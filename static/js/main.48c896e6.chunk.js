(this.webpackJsonpbookworms=this.webpackJsonpbookworms||[]).push([[0],{202:function(e,t,n){},227:function(e,t,n){},229:function(e,t,n){e.exports=n.p+"static/media/IndaysLogo.de1409c4.png"},271:function(e,t,n){e.exports=n(526)},276:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),l=n.n(o),i=(n(276),n(88)),c=n(70),s=n(36),u=n(89),f=n(11),d=n(18),m=n(31),g=n(35),b=n.n(g),v=n(68),p=n.n(v),h=n(15),E=n(22),O=" title\nstart\nend\ncolor\nvalue\n_id\navailable\n",y="\n    _id\n    firebaseID\n    email\n    userType\n    firstName\n    lastName\n    preferences {".concat(O,"}\n    shifts {").concat(O,"}\n");function D(){var e=Object(h.a)(["\n    mutation declinePendingShift(\n        $shiftID: String!\n        ) {\n        declinePendingShift(\n            shiftID: $shiftID\n        )\n    }\n"]);return D=function(){return e},e}function S(){var e=Object(h.a)(["\n    mutation acceptPendingShift(\n        $shiftID: String!\n        ) {\n        acceptPendingShift(\n            shiftID: $shiftID\n        )\n    }\n"]);return S=function(){return e},e}function w(){var e=Object(h.a)(["\n    mutation addPendingShift(\n        $toUserID: String!,\n        $fromUserID: String!,\n        $shiftID: String!\n        ) {\n        addPendingShift(\n            toUserID: $toUserID,\n            fromUserID: $fromUserID,\n            shiftID: $shiftID\n        )\n    }\n"]);return w=function(){return e},e}function j(){var e=Object(h.a)(["\n    mutation removeTradeBoardShift(\n        $shiftID: String!,\n        $userID: String!\n        ) {\n        removeTradeBoardShift(\n            shiftID: $shiftID,\n            userID: $userID\n        )\n    }\n"]);return j=function(){return e},e}function I(){var e=Object(h.a)(["\n    mutation addTradeBoardShift(\n        $shiftID: String!,\n        $userID: String!\n        ) {\n        addTradeBoardShift(\n            shiftID: $shiftID,\n            userID: $userID\n        ){_id}\n    }\n"]);return I=function(){return e},e}function x(){var e=Object(h.a)(["\n    mutation UpdateUsersShifts($users: [UpdateUserShift!]!) {\n        updateUsersShifts(users: $users) {\n            _id\n        }\n    }\n"]);return x=function(){return e},e}var k=Object(E.b)(x()),C=Object(E.b)(I()),U=Object(E.b)(j()),$=Object(E.b)(w()),N=Object(E.b)(S()),P=Object(E.b)(D());function A(){var e=Object(h.a)(["\n    query {\n        getUsers {\n            _id\n        }\n    }\n"]);return A=function(){return e},e}function L(){var e=Object(h.a)(["\n    query {\n        getUsers {\n            ","\n        }\n    }\n"]);return L=function(){return e},e}function T(){var e=Object(h.a)(["\n    query getUserByFirebaseID($firebaseID: String!) {\n        getUserByFirebaseID(firebaseID: $firebaseID) {\n            ","\n        }\n    }\n"]);return T=function(){return e},e}function B(){var e=Object(h.a)(["\n    query getUserByID($id: String!) {\n        getUserByID(id: $id) {\n            ","\n        }\n    }\n"]);return B=function(){return e},e}var M=Object(E.b)(B(),y),_=Object(E.b)(T(),y),F=Object(E.b)(L(),y),G=Object(E.b)(A()),z=n(58);function Y(){var e=Object(h.a)(["\n    background: linear-gradient(179.63deg, #ff7a7a -13.56%, #510808 158.3%);\n    width: 12vw;\n    height: 6vh;\n    color: white;\n    font-family: Poppins;\n    font-size: 1.2rem;\n    border-radius: 4.5vw;\n    align-self: 'flex-start';\n    justify-self: 'flex-start';\n"]);return Y=function(){return e},e}function R(){var e=Object(h.a)(["\n    width: 36px;\n    height: 14px;\n    border-radius: 2px;\n    margin: 2px;\n    background: ",";\n"]);return R=function(){return e},e}function H(){var e=Object(h.a)(["\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    boxshadow: '0 0 0 1px rgba(0,0,0,.1)';\n    display: inline-block;\n    cursor: pointer;\n"]);return H=function(){return e},e}function W(){var e=Object(h.a)(["\n    font-family: Poppins;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    color: #3385ff;\n    text-decoration: underline;\n"]);return W=function(){return e},e}function K(){var e=Object(h.a)(["\n    background: linear-gradient(180deg, #303030 0%, #060303 100%);\n    border-radius: 10px;\n    margin: 1em;\n    width: 247px;\n    height: 39px;\n    color: white;\n    font-size: 16px;\n    border: 0px;\n    text-align: center;\n"]);return K=function(){return e},e}function q(){var e=Object(h.a)(["\n    font-family: Poppins;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 18px;\n    padding: 0.5em;\n    padding-left: 3em;\n    margin: 1em;\n    color: ",";\n    background: transparent;\n    width: 20vw;\n    height: 2.3em;\n    border: none;\n    border-bottom: 1px solid;\n    &:focus {\n        border-bottom: 1px solid #1cd1a1; // <Thing> when hovered\n    }\n    border-color: ",";\n"]);return q=function(){return e},e}function J(){var e=Object(h.a)(["\n    font-family: Poppins;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 30px;\n    position: relative;\n    //top: 277px;\n    color: #8c8989;\n"]);return J=function(){return e},e}function V(){var e=Object(h.a)(["\n    font-family: 'Poppins';\n    font-size: 72px;\n    font-weight: bold;\n    padding: 1%;\n    margin: 0;\n    background: linear-gradient(#ff7a7a, #510808);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n"]);return V=function(){return e},e}function X(){var e=Object(h.a)(["\n    background: white;\n    padding: 2%;\n    border: 3px solid rgba(133, 133, 133, 0.14);\n    box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.45);\n    border-radius: 25px;\n"]);return X=function(){return e},e}var Q=z.a.div(X()),Z=z.a.h1(V()),ee=z.a.span(J()),te=z.a.input(q(),(function(e){return e.inputColor||"#235CB9"}),(function(e){return e.borderColor||"#C7C7C7"})),ne=z.a.button(K()),ae=(z.a.a(W()),z.a.div(H())),re=z.a.div(R(),(function(e){return e.color?e.color:"black"})),oe=z.a.button(Y());function le(){var e=Object(h.a)(["\n    query {\n        getBlackouts {\n            _id\n            start\n            end\n        }\n    }\n"]);return le=function(){return e},e}var ie=Object(E.b)(le());b.a.locale("en");var ce=Object(m.c)(b.a),se=p()(m.a),ue=[];function fe(){var e=Object(h.a)(["\n    query {\n        getPendingShifts {\n            _id\n            title\n            start\n            end\n            color\n            available\n            fromUserID\n            toUserID\n        }\n    }\n"]);return fe=function(){return e},e}function de(){var e=Object(h.a)(["\n    query {\n        getTradeBoardShifts {\n            _id\n            title\n            start\n            end\n            color\n            available\n            full_user{_id}\n        }\n    }\n"]);return de=function(){return e},e}var me=Object(E.b)(de()),ge=Object(E.b)(fe());b.a.locale("en");var be=Object(m.c)(b.a),ve=p()(m.a);var pe=n(243),he=n.n(pe),Ee=(n(200),n(201),n(202),n(242)),Oe=(n(222),[[{time:"9:00",slot:1},{time:"10:00",slot:1},{time:"11:00",slot:2},{time:"12:00",slot:2},{time:"13:00",slot:2},{time:"14:00",slot:2},{time:"15:00",slot:2},{time:"16:00",slot:2},{time:"17:00",slot:2},{time:"18:00",slot:2},{time:"19:00",slot:2},{time:"20:00",slot:2},{time:"21:00",slot:1},{time:"22:00",slot:1},{time:"22:30",slot:1}],[{time:"7:30",slot:2},{time:"8:00",slot:2},{time:"9:00",slot:2},{time:"10:00",slot:2},{time:"11:00",slot:3},{time:"12:00",slot:3},{time:"13:00",slot:3},{time:"14:00",slot:3},{time:"15:00",slot:3},{time:"16:00",slot:3},{time:"17:00",slot:3},{time:"18:00",slot:3},{time:"19:00",slot:2},{time:"20:00",slot:2},{time:"21:00",slot:2},{time:"22:00",slot:2},{time:"23:00",slot:1}],[{time:"7:30",slot:2},{time:"8:00",slot:2},{time:"9:00",slot:2},{time:"10:00",slot:2},{time:"11:00",slot:3},{time:"12:00",slot:3},{time:"13:00",slot:3},{time:"14:00",slot:3},{time:"15:00",slot:3},{time:"16:00",slot:2},{time:"17:00",slot:2},{time:"18:00",slot:2},{time:"19:00",slot:2}],[{time:"10:00",slot:2},{time:"11:00",slot:2},{time:"12:00",slot:2},{time:"13:00",slot:2},{time:"14:00",slot:2},{time:"15:00",slot:2},{time:"16:00",slot:2},{time:"17:00",slot:2}]]),ye=[Oe[0],Oe[1],Oe[1],Oe[1],Oe[1],Oe[2],Oe[3]],De=0,Se=0,we={},je={};function Ie(e){De=localStorage.getItem("currentWeeklyMax")?(console.log(localStorage.getItem("currentWeeklyMax")),localStorage.getItem("currentWeeklyMax")):(console.log("DIDNT USE LOCAL"),20),Se=localStorage.getItem("currentDailyMax")?(console.log(localStorage.getItem("currentDailyMax")),localStorage.getItem("currentDailyMax")):(console.log("DIDNT USE LOCAL"),7),console.log(De),console.log(Se);var t=function(){var e=[];return ye.forEach((function(t,n){e=e.concat(function(e,t){var n=function(e){return console.log("canwork"),je[e]<Se&&we[e]<De&&(je[e]++,we[e]++,!0)};console.log("----------DAY-----------",t),console.log("DATA",a);var r=a.getUsers,o=[];r.forEach((function(e){var n=e._id,a=e.preferences,r=e.firstName;je[n]=0,n in we||(we[n]=0),a.forEach((function(e){var a=e.start,l=e.end,i=e.value,c=new Date(a),s=new Date(l);c.getDay()===t&&o.push({empID:n,emp:r,startDate:c,endDate:s,value:parseInt(i)})}))}));Object(s.a)(Array(24).keys());var l=[];e.forEach((function(e,t){var a=e.time,r=e.slot;console.log("----HOUR----",a);var i=parseInt(a.split(":")[0]),c=parseInt(a.split(":")[1]),s=o.filter((function(e){var t=e.startDate,n=e.endDate,a=e.value;return t.getHours()<=i&&n.getHours()>=i+1&&-100!==a&&Number.isInteger(a)})),u=-1;if(0===s.length)l.push({shiftTime:{hour:i,minute:c},assigned:[]});else{s.forEach((function(e){var t=e.value;t>u&&(u=t)}));var f=s.filter((function(e){return e.value===u}));if(console.log("HVFE",f),f.length<r){var d,m=[];for(u>=0&&(s=s.filter((function(e){var t=e.value;return 1===u?0===t:-1===t})),console.log("FE",s));f.length<r&&0!==s.length;)d=Math.floor(Math.random()*s.length),m.includes(d)||(f.push(s[d]),s.splice(d,1),m.push(d))}var g={shiftTime:{hour:i,minute:c},assigned:[]};if(0===f)l.push("NOTHING HERE");else if(f.length<=r)f.forEach((function(e){n(e.empID)&&g.assigned.push(e)})),l.push(g);else if(f.length>r){var b=[];0!==t&&l[t-1].assigned.forEach((function(e){var t=e.empID;b.push(t)})),f.forEach((function(e,t){b.includes(e.empID)&&g.assigned.length<r&&n(e.empID)&&(g.assigned.push(e),f.splice(t,1))})),f.forEach((function(e,t){g.assigned.length<r&&n(e.empID)&&g.assigned.push(e)})),l.push(g)}console.log("DAY RESULT",g),console.log("DAILYMAX",je)}}));var i,c=[],u=29,f=2;t<=2?u+=t:(u=0+t-2,f=3);return l.forEach((function(e,t){var n=e.assigned,a=e.shiftTime;console.log("HOUR",a.hour,"MINUTE",a.minute),n.forEach((function(e){var n,r,o=!1,s=1,d=0,m=!1;if(0===t){for(;!o;)t+s<=l.length-1&&l[t+s].assigned.includes(e)?(console.log("Keep looking"),1===s&&(d=a.hour,n=a.minute),m=!0):(o=!0,r=a.hour+s,a.minute),s++;m?(i={id:e.empID,title:e.emp,start:new Date(2020,f,u,d,n,0),end:new Date(2020,f,u,r,0,0)},console.log("Start Hour:",d,"Start Minute:",n),console.log("New OBJ",i)):(i={id:e.empID,title:e.emp,start:new Date(2020,f,u,a.hour,a.minute,0),end:new Date(2020,f,u,r,0,0)},console.log("Start Hour:",a.hour,"Start Minute:",a.minute),console.log("New OBJ",i)),c.push(i)}else if(!l[t-1].assigned.includes(e)){for(;!o;)t+s<=l.length-1&&l[t+s].assigned.includes(e)?(console.log("Keep looking"),1===s&&(d=a.hour,n=a.minute),m=!0):(o=!0,r=a.hour+s,a.minute),s++;m?(i={id:e.empID,title:e.emp,start:new Date(2020,f,u,d,n,0),end:new Date(2020,f,u,r,0,0)},console.log("Start Hour:",d,"Start Minute:",n),console.log("New OBJ",i)):(i={id:e.empID,title:e.emp,start:new Date(2020,f,u,a.hour,a.minute,0),end:new Date(2020,f,u,r,0,0)},console.log("Start Hour:",a.hour,"Start Minute:",a.minute),console.log("New OBJ",i)),c.push(i)}}))})),c}(t,n))})),console.log("WEEKLY ",we),console.log("WEEKLY ASSIGNED",e),e},n=Object(d.c)(F),a=(n.loading,n.error,n.data);n.refetch,n.networkStatus;return r.a.createElement(ne,{onClick:function(){return e.todo(t())}},"Auto Populate")}function xe(){var e=Object(h.a)(["\n    mutation clockOut($location: String!, $time: String!, $userID: String!) {\n        clockOut(location: $location, time: $time, userID: $userID)\n    }\n"]);return xe=function(){return e},e}function ke(){var e=Object(h.a)(["\n    mutation clockIn($location: String!, $time: String!, $userID: String!) {\n        clockIn(location: $location, time: $time, userID: $userID)\n    }\n"]);return ke=function(){return e},e}function Ce(){var e=Object(h.a)(["\n    mutation deleteUser($email: String!) {\n        deleteUser(email: $email)\n    }\n"]);return Ce=function(){return e},e}function Ue(){var e=Object(h.a)(["\n    mutation createUser(\n        $firebaseID: String!\n        $first: String!\n        $last: String!\n        $userType: String!\n        $email: String!\n\n    ) {\n        createUser(\n            firebaseID: $firebaseID\n            firstName: $first\n            lastName: $last\n            userType: $userType\n            email: $email\n        ) { "," }\n            \n    }\n"]);return Ue=function(){return e},e}function $e(){var e=Object(h.a)(["\n    mutation updateUser(\n        $id: String!\n        $first: String\n        $last: String\n        $email: String\n        $preferences: [UpdateEventInput!]\n        $shifts: [UpdateEventInput!]\n    ) {\n        updateUser(\n            _id: $id\n            firstName: $first\n            lastName: $last\n            email: $email\n            preferences: $preferences\n            shifts: $shifts\n        ) { "," }\n            \n    }\n"]);return $e=function(){return e},e}var Ne=Object(E.b)($e(),y),Pe=Object(E.b)(Ue(),y),Ae=Object(E.b)(Ce()),Le=Object(E.b)(ke()),Te=Object(E.b)(xe());function Be(){var e=Object(h.a)(["\n    mutation createBlackout(\n        $start: String!,\n        $end: String!\n    ) {\n        createBlackout(\n            start: $start,\n            end: $end\n        ){_id}\n    }\n"]);return Be=function(){return e},e}var Me=Object(E.b)(Be());b.a.locale("en");var _e=Object(m.c)(b.a),Fe=p()(m.a);var Ge=n(132),ze=n.n(Ge),Ye=(n(500),n(227),r.a.createContext()),Re=function(e){var t=e.children,n=Object(a.useState)(null),o=Object(f.a)(n,2),l=o[0],i=o[1];return r.a.createElement(Ye.Provider,{value:{user:l,setUser:function(e){return i(e)}}},t)};b.a.locale("en");var He,We=Object(m.c)(b.a),Ke=[{value:-100,label:"In-Class",color:"darkred"},{value:-1,label:"Unpreferred",color:"red"},{value:0,label:"Neutral",color:"grey"},{value:1,label:"Preferred",color:"green"}],qe=p()(m.a),Je=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}];var Ve=n(56),Xe=n.n(Ve),Qe=n(90),Ze=n(24),et=n(134),tt=n(77),nt=n(245),at=(n(507),nt.initializeApp({apiKey:"AIzaSyA2L65DXh6scG1PFFRie5b3LV_a-b3vxlU",authDomain:"bookworms-80bc1.firebaseapp.com",databaseURL:"https://bookworms-80bc1.firebaseio.com",projectId:"bookworms-80bc1",storageBucket:"bookworms-80bc1.appspot.com",messagingSenderId:"123940735278"})),rt=n(71),ot=n(86),lt=n(81);function it(e){var t=e.style,n=void 0===t?{}:t,o=e.containerStyle,l=void 0===o?{}:o,i=e.onChange,c=void 0===i?function(e){return console.log(e)}:i,s=e.as,u=void 0===s?"row":s,d=Object(a.useState)("@islander.tamucc.edu"),m=Object(f.a)(d,2),g=m[0],b=m[1],v=function(e){e.includes("@")&&""!==g?b(""):e.includes("@")||"@islander.tamucc.edu"===g||b("@islander.tamucc.edu"),c(e)};return r.a.createElement(Ze.a.Group,{as:u},r.a.createElement(Ze.a.Label,null,"Username"),r.a.createElement(ot.a,{style:l},r.a.createElement(lt.a,{placeholder:"Username...","aria-label":"Username",onChange:function(e){var t=e.target.value;return v(t)},style:n,autoComplete:"username",type:"text"}),g.length>0&&r.a.createElement(ot.a.Append,null,r.a.createElement(ot.a.Text,null,g))),r.a.createElement(Ze.a.Text,{className:"text-muted"},"We'll never share this email with anyone else."))}var ct=[{name:"Overview",path:"/overview",component:function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)([]),g=Object(f.a)(c,2),b=g[0],v=g[1],p=localStorage.getItem("currentUserID"),h=Object(d.c)(M,{variables:{id:p},notifyOnNetworkStatusChange:!0}),E=h.loading,O=h.error,y=h.data,D=(h.refetch,h.networkStatus),S=Object(d.c)(ie),w=S.loading,j=S.error,I=S.data;function x(e,t){for(var n=new Array,a=e;a<=t;)n.push(new Date(a)),a=a.addDays(1);return n}S.refetch,S.networkStatus,Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Object(a.useEffect)((function(){w||j||function(e){var t=[];e.getBlackouts.forEach((function(e){var n=e.start,a=e.end,r=new Date(n),o=new Date(a);t.push({start:r,end:o})})),t.forEach((function(e){var t=e.start,n=e.end;ue.push.apply(ue,Object(s.a)(x(t,n)))})),v(t)}(I),E||O||function(e){var t=[];e.getUserByID.shifts.forEach((function(e){var n=e.start,a=e.end,r=Object(i.a)(e,["start","end"]),o=new Date(n),l=new Date(a);t.push(Object(u.a)({start:o,end:l},r))})),l(t)}(y)}),[E,y,O,w,I,j]);var k=Object(d.b)(C),U=Object(f.a)(k,1)[0];return E?r.a.createElement("p",null,"Loading..."):O?r.a.createElement("p",null,"Error :( ",JSON.stringify(O)):4===D?r.a.createElement("p",null,"Refetching..."):r.a.createElement(Q,{style:{width:"1500px"}},r.a.createElement("div",null,r.a.createElement(Z,{style:{textAlign:"left",position:"flex",fontSize:"48px"}},"Overview"),r.a.createElement(se,{selectable:!0,localizer:ce,events:o,views:["month","week"],defaultView:m.b.WEEK,defaultDate:new Date(2020,2,30),onSelectEvent:function(e){window.confirm("\nDo you want to drop this shift: Ok - YES, Cancel - NO")&&(ue.some((function(t){return t.toDateString()===e.start.toDateString()||t.toDateString()===e.end.toDateString()}))?alert("You are unable to drop your shift on this day."):(U({variables:{userID:p,shiftID:e._id}}),e.color="darkred"))},style:{height:"80vh",width:"1450px"},dayPropGetter:function(e){for(var t in b){var n=x(b[t].start,b[t].end);for(var a in n)if(e.getDate()===n[a].getDate()&&e.getMonth()===n[a].getMonth()&&e.getFullYear()===n[a].getFullYear())return{style:{backgroundColor:"#000"}}}},eventPropGetter:function(e){return{style:{backgroundColor:e.available?"darkred":e.color,alignSelf:"center",alignContent:"center"}}},slotPropGetter:function(){return{style:{border:"none",alignItems:"center"}}},components:{event:function(e){var t=e.event;return r.a.createElement("p",{style:{color:"yellow"}},t.title)}}})))}},{name:"Shift Swap",path:"/shiftswap",component:function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)([]),c=Object(f.a)(i,2),s=c[0],u=c[1],g=localStorage.getItem("currentUserID"),b=Object(d.c)(me),v=b.loading,p=b.error,h=b.data,E=(b.refetch,b.networkStatus,Object(d.c)(ge)),O=E.loading,y=E.error,D=E.data,S=(E.refetch,E.networkStatus,Object(d.c)(M,{variables:{id:g},notifyOnNetworkStatusChange:!0})),w=S.loading,j=S.error,I=S.data,x=(S.refetch,S.networkStatus),k=Object(d.b)(U),C=Object(f.a)(k,1)[0],A=Object(d.b)($),L=Object(f.a)(A,1)[0],T=Object(d.b)(N),B=Object(f.a)(T,1)[0],_=Object(d.b)(P),F=Object(f.a)(_,1)[0];Object(a.useEffect)((function(){v||p||function(e){var t=[];e.getTradeBoardShifts.forEach((function(e){var n=e.title,a=e.start,r=e.end,o=e.color,l=e._id,i=e.full_user,c=new Date(a),s=new Date(r);t.push({title:n,start:c,end:s,color:o,_id:l,full_user:i})})),l(t)}(h),O||y||function(e){var t=[];e.getPendingShifts.forEach((function(e){var n=e.title,a=e.start,r=e.end,o=e.color,l=e._id,i=e.fromUserID,c=e.toUserId,s=new Date(a),u=new Date(r);t.push({title:n,start:s,end:u,color:o,_id:l,fromUserID:i,toUserId:c})})),u(t)}(D)}),[v,h,p,O,D,y]);var G=function(e){var t=e.event;return r.a.createElement("p",{style:{color:"yellow"}},t.title)};if(w)return r.a.createElement("p",null,"Loading...");if(j)return r.a.createElement("p",null,"Error :( ",JSON.stringify(j));if(4===x)return r.a.createElement("p",null,"Refetching...");var z=function(e){window.confirm("\nDo you want to pickup this shift: Ok - YES, Cancel - NO")&&L({variables:{toUserID:g,fromUserID:e.full_user._id,shiftID:e._id}})},Y=function(e){window.confirm("\nDo you want to approve this shift pickup: Ok - YES, Cancel - NO")?(B({variables:{shiftID:e._id}}),C({variables:{shiftID:e._id,userID:e.fromUserID}}),console.log("Shift swap has been approved")):(F({variables:{shiftID:e._id}}),console.log("Shift was not approved"))};return r.a.createElement(Q,{style:{width:"1500px"}},r.a.createElement("div",null,r.a.createElement(Z,{style:{textAlign:"left",position:"flex",fontSize:"48px"}},"Shiftswap"),function(){if("Admin"!==I.getUserByID.userType)return r.a.createElement(ve,{selectable:!0,localizer:be,events:o,views:["month","week"],defaultView:m.b.WEEK,defaultDate:new Date(2020,1,25),onSelectEvent:z,style:{align:"center",height:"80vh",width:"1450px"},eventPropGetter:function(e){return{style:{backgroundColor:e.color,alignSelf:"center",alignContent:"center"}}},slotPropGetter:function(){return{style:{border:"none",alignItems:"center"}}},components:{event:G}})}(),function(){if("Admin"===I.getUserByID.userType)return r.a.createElement(ve,{selectable:!0,localizer:be,events:s,views:["month","week"],defaultView:m.b.WEEK,defaultDate:new Date(2020,1,25),onSelectEvent:Y,style:{align:"center",height:"80vh",width:"1450px"},eventPropGetter:function(e){return{style:{backgroundColor:e.color,alignSelf:"center",alignContent:"center"}}},slotPropGetter:function(){return{style:{border:"none",alignItems:"center"}}},components:{event:G}})}()))}},{name:"Statistics",path:"/statistics",component:function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Statistics"),r.a.createElement("h3",null,"This is some statistics content"))}},{name:"Schedule",path:"/schedule",component:function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)("red"),g=Object(f.a)(c,2),b=g[0],v=g[1],p=Object(a.useState)(!1),h=Object(f.a)(p,2),E=h[0],O=h[1],y=Object(a.useState)(""),D=Object(f.a)(y,2),S=D[0],w=D[1],j=Object(a.useState)(""),I=Object(f.a)(j,2),x=I[0],C=I[1],U=Object(a.useState)([]),$=Object(f.a)(U,2),N=$[0],P=$[1],A=Object(a.useState)([]),L=Object(f.a)(A,2),T=L[0],B=L[1],_=Object(d.b)(Me),F=Object(f.a)(_,1)[0],z=localStorage.getItem("currentUserID"),Y=Object(d.b)(k),R=Object(f.a)(Y,1)[0],H=Object(d.c)(M,{variables:{id:z},notifyOnNetworkStatusChange:!0}),W=H.loading,K=H.error,q=H.data,J=(H.refetch,H.networkStatus),V=Object(d.c)(G),X=(V.loading,V.error,V.data,V.refetch,V.networkStatus,Object(d.c)(ie)),ee=X.loading,te=X.error,oe=X.data;X.refetch,X.networkStatus,Object(a.useEffect)((function(){l([{title:"Employee 1",start:new Date(2020,1,23,5),end:new Date(2020,1,23,18),color:"#fc0373"},{title:"Employee 3",start:new Date(2020,1,25,10),end:new Date(2020,1,25,16),color:"#18fc03"}]);ee||te||function(e){var t=[];e.getBlackouts.forEach((function(e){var n=e.start,a=e.end,r=new Date(n),o=new Date(a);t.push({start:r,end:o})})),B(t)}(oe)}),[ee,oe,te]);var le=function(e){var t=e.start,n=e.end,a=window.prompt("New Event name");a&&l([].concat(Object(s.a)(o),[{title:a,start:t,end:n,color:b&&b.hex}]))},ce=function(e){var t=e.event;return r.a.createElement("p",{style:{color:"yellow"}},t.title)},se=function(e){var t=e.event,n=e.start,a=e.end,r=t.title,i=t.color,c=o.filter((function(e){return e!==t}));c.push({title:r,start:n,end:a,color:i}),l(c)},ue=function(e){var t=e.event,n=e.start,a=e.end,r=o.indexOf(t),i=t.title,c=t.color,u=Object(s.a)(o);u[r]={title:i,color:c,start:n,end:a},l(u)},fe=function(e){if(window.confirm("\nDelete this event: Ok - YES, Cancel - NO")){var t=o.indexOf(e),n=Object(s.a)(o);n.splice(t,1),l(n)}},de=function(e){for(var t in T){var n=T[t].start,a=T[t].end;Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var r=function(e,t){for(var n=new Array,a=e;a<=t;)n.push(new Date(a)),a=a.addDays(1);return n}(n,a);for(var o in r)if(e.getDate()===r[o].getDate()&&e.getMonth()===r[o].getMonth()&&e.getFullYear()===r[o].getFullYear())return{style:{backgroundColor:"#000"}}}};return W?r.a.createElement("p",null,"Loading..."):K?r.a.createElement("p",null,"Error :( ",JSON.stringify(K)):4===J?r.a.createElement("p",null,"Refetching..."):r.a.createElement(Q,{style:{width:"1500px"}},r.a.createElement("div",null,r.a.createElement(Z,{style:{textAlign:"left",position:"flex",fontSize:"48px"}},"Schedule"),r.a.createElement("h3",{style:{color:b}},"This is some schedule content"),r.a.createElement("h3",null,"First Name: ",q.getUserByID.firstName),r.a.createElement(ae,{onClick:function(){return O(!E)}},r.a.createElement(re,{color:b.hex}),E&&r.a.createElement(Ee.HuePicker,{color:b,onChange:function(e,t){return v(e,(function(){return O(!E)}))}})),function(){var e=function(e,t){return r.a.createElement(he.a,{selected:e,onSelect:function(e){return t(e)},minDate:e===x&&S,maxDate:e===S&&x})};return r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h3",null,"Start"),e(S,w),r.a.createElement("h3",null,"End"),e(x,C)))}(),r.a.createElement("div",null,r.a.createElement(ne,{style:{align:"left"},onClick:function(e){return console.log(S,x),console.log(S.toISOString(),x.toISOString()),void F({variables:{start:S.toISOString(),end:x.toISOString()}})}},"Submit Blackouts To Database"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}})),r.a.createElement(Fe,{selectable:!0,localizer:_e,events:o,views:["month","week"],defaultView:m.b.WEEK,defaultDate:new Date(2020,1,25),onSelectEvent:fe,onSelectSlot:le,style:{height:"80vh",width:"1450px"},dayPropGetter:de,eventPropGetter:function(e){return{style:{backgroundColor:e.color,alignSelf:"center",alignContent:"center"}}},slotPropGetter:function(){return{style:{border:"none",alignItems:"center"}}},components:{event:ce},draggableAccessor:function(e){return!0},onEventDrop:se,onEventResize:ue}),r.a.createElement(Ie,{todo:function(e){return P(e)}}),r.a.createElement("div",null,r.a.createElement(ne,{style:{align:"left"},onClick:function(e){return function(){var e={};N.forEach((function(t){for(var n,a=t.id,r=Object(i.a)(t,["id"]),o=[],l=0;l<20;)(n=Object(u.a)({},r)).start=new Date(t.start),n.end=new Date(t.end),n.start.setDate(n.start.getDate()+7*l),n.end.setDate(n.end.getDate()+7*l),n.start=n.start.toISOString(),n.end=n.end.toISOString(),n.color="blue",o.push(n),l++;a in e?e[a].shifts=e[a].shifts.concat(o):(e[a]={},e[a]._id=a,e[a].shifts=[].concat(o))})),console.log(e["5e85411d6872e7001ec57743"]);var t=Object.values(e);R({variables:{users:t}})}()}},"Submit Shifts To Database"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}})),r.a.createElement(Fe,{selectable:!0,localizer:_e,events:N,views:["month","week"],defaultView:m.b.WEEK,defaultDate:new Date(2020,2,29),onSelectEvent:fe,onSelectSlot:le,style:{height:"80vh",width:"1450px"},dayPropGetter:de,eventPropGetter:function(e){return{style:{backgroundColor:e.color,alignSelf:"center",alignContent:"center"}}},slotPropGetter:function(){return{style:{border:"none",alignItems:"center"}}},components:{event:ce},draggableAccessor:function(e){return!0},onEventDrop:se,onEventResize:ue})))}},{name:"Account",path:"/account",component:function(e){var t=Object(a.useContext)(Ye),n=t.user,o=t.setUser,l=Object(a.useState)(n),i=Object(f.a)(l,2),c=i[0],g=i[1],b=Object(a.useState)([]),v=Object(f.a)(b,2),p=v[0],h=v[1],E=Object(a.useState)(Ke[1]),O=Object(f.a)(E,2),y=O[0],D=O[1],S=Object(a.useState)("Select"),w=Object(f.a)(S,2),j=w[0],I=w[1],x=Object(a.useState)("Select"),k=Object(f.a)(x,2),C=k[0],U=k[1],$=Object(d.b)(Ne),N=Object(f.a)($,2),P=N[0],A=N[1],L=A.data,T=A.loading;Object(a.useEffect)((function(){!function(e){var t=[];e.forEach((function(e){var n=e.title,a=e.start,r=e.end,o=e.color,l=e.value,i=new Date(a),c=new Date(r);t.push({title:n,start:i,end:c,color:o,value:l})})),t.sort((function(e,t){return new Date(e.start)-new Date(t.start)})),h(t)}(n.preferences)}),[n]),Object(a.useEffect)((function(){!T&&L&&L.updateUser&&o(L.updateUser)}),[L,T,o]);var B=function(e,t){return r.a.createElement(te,{placeholder:t,type:"text",value:c[e],borderColor:""===c[e]&&"red",onChange:function(t){return function(t){var n=Object(u.a)({},c);n[e]=t,g(n)}(t.target.value)}})};return r.a.createElement(Q,{style:{width:"78vw"}},r.a.createElement("div",null,r.a.createElement(Z,{style:{textAlign:"left",position:"flex",fontSize:"3rem"}},"Account Information"),r.a.createElement("h3",{style:{textAlign:"start",fontSize:"1.3rem"}},"Here you can update your account information."),B("firstName","First Name"),B("lastName","Last Name"),r.a.createElement(ne,{style:{display:"block"},onClick:function(){return function(e){var t=e.email,a=e.firstName,r=e.lastName;""===t||""===a||""===r?console.log("asad"):P({variables:{id:n._id,first:a,last:r,email:t}})}(c)}},"Save"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Z,{style:{fontSize:"3rem",textAlign:"left"}},"Preferences"),r.a.createElement(ne,{style:{align:"left"},onClick:function(){return console.log(p)}},"Log State"),r.a.createElement(ne,{style:{align:"left"},onClick:function(){return function(){var e,t,n=Object(s.a)(p);C.value>2?(e="April ".concat(C.value-2),t="April ".concat(C.value-2)):(e="March ".concat(29+C.value),t="March ".concat(29+C.value)),"Select"===j&&"Select"===C&&C.value===j.value||p.forEach((function(a){var r=a.start,o=a.title,l=a.end,i=a.color,c=a.value;if(r.getDay()===j.value){var s=new Date("".concat(e,", 2020 ").concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds())),u=new Date("".concat(t,", 2020 ").concat(l.getHours(),":").concat(l.getMinutes(),":").concat(l.getSeconds()));n.push({title:o,start:s,end:u,color:i,value:c})}})),h(n)}()}},"Copy"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(ze.a,{options:Ke,onChange:function(e){return D(e)},value:y,placeholder:"Select an option"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(ee,null,"From"),r.a.createElement(ze.a,{options:Je,onChange:function(e){return I(e)},value:j,placeholder:"Select an option"})),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(ee,null,"To"),r.a.createElement(ze.a,{options:Je,onChange:function(e){return U(e)},value:C,placeholder:"Select an option"})))),r.a.createElement(ne,{style:{align:"left"},onClick:function(e){return He>=30&&P({variables:{id:n._id,preferences:p.sort((function(e,t){return new Date(e.start)-new Date(t.start)}))}})}},"Submit To Database"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}}),r.a.createElement(qe,{selectable:!0,localizer:We,toolbar:!1,formats:{dayFormat:function(e,t,n){return n.format(e,"dddd",t)}},events:p,view:m.b.WEEK,defaultDate:new Date(2020,2,29),onSelectEvent:function(e){if(window.confirm("\nDelete this event: Ok - YES, Cancel - NO")){var t=p.indexOf(e),n=Object(s.a)(p);n.splice(t,1),h(n)}},onSelectSlot:function(e){var t=e.start,n=e.end,a="green";-1==y.value?a="red":0==y.value?a="grey":-100==y.value&&(a="darkred"),h([].concat(Object(s.a)(p),[{title:y.label,start:t,end:n,color:a,value:y.value.toString()}]))},style:{align:"center",width:"100%"},eventPropGetter:function(e){return{style:{backgroundColor:e.color,alignSelf:"center",alignContent:"center"}}},slotPropGetter:function(){return{style:{border:"none",alignItems:"center"}}},dayPropGetter:function(){return{style:{alignItems:"flex-start"}}},draggableAccessor:function(e){return!0},onEventDrop:function(e){var t=e.event,n=e.start,a=e.end,r=t.title,o=t.color,l=t.value;if(window.confirm("\nCopy this event to new day?: Ok - YES, Cancel - NO"))h([].concat(Object(s.a)(p),[{title:r,start:n,end:a,color:o,value:l}]));else{var i=p.filter((function(e){return e!==t}));i.push({title:r,start:n,end:a,color:o,value:l}),h(i)}},onEventResize:function(e){var t=e.event,n=e.start,a=e.end,r=p.indexOf(t),o=t.title,l=t.color,i=t.value,c=Object(s.a)(p);c[r]={title:o,color:l,start:n,end:a,value:i},h(c)}}))))}},{name:"Admin",path:"/Admin",component:function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(""),c=Object(f.a)(i,2),s=c[0],u=c[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),b=g[0],v=g[1],p=Object(a.useState)(""),h=Object(f.a)(p,2),E=h[0],O=h[1],y=Object(a.useState)(""),D=Object(f.a)(y,2),S=D[0],w=D[1],j=Object(a.useState)(""),I=Object(f.a)(j,2),x=I[0],k=I[1],C=Object(a.useState)("Employee"),U=Object(f.a)(C,2),$=U[0],N=U[1],P=Object(a.useState)(""),A=Object(f.a)(P,2),L=A[0],T=A[1],B=Object(a.useState)(!1),M=Object(f.a)(B,2),_=M[0],F=M[1],G=Object(d.b)(Pe,{onError:function(e){F({title:"Error Creating User!",message:e.message})},onCompleted:function(e){var t=e.createUser;v("".concat(t.firstName,"'s account has been successfully created!")),l(!1),u(""),w(""),k(""),O(""),N("Employee")}}),z=Object(f.a)(G,2),Y=z[0],R=z[1].loading,H=Object(d.b)(Ae,{onError:function(e){F({title:"Error Deleting User!",message:e.message})},onCompleted:function(e){var t=e.deleteUser;l(!1),t?(v("User successfully deleted!"),T("")):F({title:"Error Deleting User!",message:"Unable to find a user with that email."})}}),W=Object(f.a)(H,2),K=W[0],q=W[1].loading;Object(a.useEffect)((function(){(R||q)&&l(!0)}),[R,q]);var J=function(){var e=Object(Qe.a)(Xe.a.mark((function e(t){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),K({variables:{email:V(L)}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){return e.includes("@")?e:"".concat(e,"@islander.tamucc.edu")},X=function(){var e=Object(Qe.a)(Xe.a.mark((function e(t){var n,a,r,o;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(S.length<1)){e.next=5;break}F({title:"Cannot Create user.",message:"A first name is required."}),e.next=22;break;case 5:if(!(x.length<1)){e.next=9;break}F({title:"Cannot Create user.",message:"A last name is required."}),e.next=22;break;case 9:return e.prev=9,e.next=12,at.auth().createUserWithEmailAndPassword(V(s),E);case 12:n=e.sent,a=n.user,r=a.uid,o=a.email,Y({variables:{firebaseID:r,first:S,last:x,userType:$,email:o}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),F({title:"Error Creating User!",message:e.t0.message});case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){var t=function(){return v(!1)},n="Success!",a=b,o="success";return"error"===e&&(t=function(){return F(!1)},n=_.title,a=_.message,o="danger"),r.a.createElement(rt.a,{style:{position:"absolute",top:"3vh",right:"40vw"},variant:o,onClose:t,dismissible:!0},r.a.createElement(rt.a.Heading,null,n),r.a.createElement("p",null,a),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ne,{onClick:t,variant:"outline-success"},"Okay")))};return r.a.createElement("div",{style:{width:"80%"}},r.a.createElement("h1",null,"Admin"),_&&Q("error"),b&&Q("success"),r.a.createElement("h2",null,"Create"),r.a.createElement(Ze.a,{onSubmit:function(e){return X(e)}},r.a.createElement(Ze.a.Row,null,r.a.createElement(it,{as:tt.a,containerStyle:{width:"100%"},onChange:function(e){return u(e)}}),r.a.createElement(Ze.a.Group,{as:tt.a,controlId:"formGridPassword"},r.a.createElement(Ze.a.Label,null,"Password"),r.a.createElement(Ze.a.Control,{onChange:function(e){var t=e.target.value;return O(t)},type:"password",placeholder:"Password..."}))),r.a.createElement(Ze.a.Row,null,r.a.createElement(Ze.a.Group,{as:tt.a},r.a.createElement(Ze.a.Label,null,"First Name"),r.a.createElement(Ze.a.Control,{onChange:function(e){var t=e.target.value;return w(t)},type:"text",placeholder:"First Name..."})),r.a.createElement(Ze.a.Group,{as:tt.a},r.a.createElement(Ze.a.Label,null,"Last Name"),r.a.createElement(Ze.a.Control,{onChange:function(e){var t=e.target.value;return k(t)},type:"text",placeholder:"Last Name..."}))),r.a.createElement(et.a,{as:"ul"},r.a.createElement(et.a.Item,{as:"li",onClick:function(){return N("Employee")},active:"Employee"===$},"Employee"),r.a.createElement(et.a.Item,{active:"Admin"===$,onClick:function(){return N("Admin")},as:"li"},"Admin")),r.a.createElement(ne,{disabled:o||_,type:"submit"},"Create User")),r.a.createElement("h2",null,"Delete"),r.a.createElement(Ze.a,{onSubmit:function(e){return J(e)}},r.a.createElement(it,{containerStyle:{width:"30%"},onChange:function(e){return T(e)}}),r.a.createElement(ne,{disabled:o||_,type:"submit"},"Delete User")))}},{name:"Logout",path:"/logout",component:function(e){return(0,Object(a.useContext)(Ye).setUser)(null),localStorage.clear(),e.history.push("/"),r.a.createElement("div",null)}}],st=n(534),ut=n(229);function ft(){var e=Object(a.useContext)(Ye).user;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"16vh",width:"100vw",textAlign:"left"}},r.a.createElement(Z,{style:{fontSize:"6rem"}},"Employee Dashboard"),r.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"space-evenly",alignItems:"center",marginRight:"2vw",fontSize:"2rem"}},r.a.createElement("img",{align:"middle",src:ut,alt:"logo",style:{height:"23vh"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},r.a.createElement(st.a,{name:"user circle",size:"big"}),r.a.createElement("span",null,e.firstName," ",e.lastName))))}var dt=n(82);function mt(){var e=Object(a.useContext)(Ye).user,t=Object(s.a)(ct);return"Admin"!=e.userType&&(t=t.filter((function(e){var t=e.name;return"Admin"!==t&&"Schedule"!==t}))),r.a.createElement("ul",{className:"Navbar",style:{fontfamily:"Poppins",fontstyle:"normal",fontweight:"normal",height:"100vh",width:"auto",listStyle:"none"}},t.map((function(e){return r.a.createElement("li",{style:{marginBottom:"3vh"}},r.a.createElement(dt.b,{className:"tags",exact:!0,to:"".concat(e.path)},r.a.createElement(oe,null,e.name)))})))}var gt=function(e){var t=e.component,n=Object(i.a)(e,["component"]),o=Object(a.useContext)(Ye).user;return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return o?r.a.createElement("div",null,r.a.createElement(ft,null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start"}},r.a.createElement(mt,null),r.a.createElement("div",{style:{justifyContent:"center",display:"flex",flex:"auto"}},r.a.createElement(t,e)))):r.a.createElement(c.a,{to:"/"})}}))},bt=n(229);function vt(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(""),c=Object(f.a)(i,2),s=c[0],u=c[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),v=g[0],p=g[1],h=Object(a.useState)(!1),E=Object(f.a)(h,2),O=E[0],y=E[1],D=Object(a.useState)(!1),S=Object(f.a)(D,2),w=S[0],j=S[1],I=Object(d.b)(Le),x=Object(f.a)(I,2),k=x[0],C=x[1].loading,U=Object(d.b)(Te),$=Object(f.a)(U,2),N=$[0],P=$[1].loading,A=Object(d.a)(_),L=Object(f.a)(A,2),T=L[0],B=L[1],M=B.data,F=B.loading,G=Object(a.useContext)(Ye),z=G.user,Y=G.setUser,R=function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){"in"===e?(k({variables:{location:"Latitude: ".concat(t.coords.latitude,", Longitude: ").concat(t.coords.longitude),time:b()().format("MMMM Do YYYY, h:mm:ss a"),userID:"5e84e996646154001efe8e80"}}),console.log("CLOCK IN COMPLETE")):"out"===e&&(N({variables:{location:"Latitude: ".concat(t.coords.latitude,", Longitude: ").concat(t.coords.longitude),time:b()().format("MMMM Do YYYY, h:mm:ss a"),userID:"5e84e996646154001efe8e80"}}),console.log("CLOCK OUT COMPLETE")),console.log("Latitude is :",t.coords.latitude),console.log("Longitude is :",t.coords.longitude),console.log("Geo Success")}),(function(){console.log("Geo Failure")})):console.log("Geolocation not supported by browser")};Object(a.useEffect)((function(){var t=localStorage.getItem("currentUserFirebaseID");z?e.history.push(ct[0].path):!F&&t&&T({variables:{firebaseID:t}})}),[T,F,e.history,Y,z]),Object(a.useEffect)((function(){if(M)if(console.log("UserFromFirebaseID"),M.getUserByFirebaseID){console.log("UserFromFirebaseID.getUserByFirebaseID:",M.getUserByFirebaseID);var t=M.getUserByFirebaseID,n=t._id,a=t.firebaseID;localStorage.setItem("currentUserID",n),localStorage.setItem("currentUserFirebaseID",a),Y(M.getUserByFirebaseID),e.history.push("/Admin")}else localStorage.clear(),y({title:"Error Logging You In",message:"Contact your administrator. Your account is missing database information)"}),p(!1)}),[M,e.history,Y]),Object(a.useEffect)((function(){p(!!(C||P||F))}),[C,P,F]);var H=function(){return o.includes("@")?o:"".concat(o,"@islander.tamucc.edu")},W=function(){var e=Object(Qe.a)(Xe.a.mark((function e(t){var n,a;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.prev=2,e.next=5,at.auth().signInWithEmailAndPassword(H(),s);case 5:n=e.sent,a=n.user.uid,T({variables:{firebaseID:a}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y({title:"Error!",message:e.t0.message});case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(Qe.a)(Xe.a.mark((function e(){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length<2)){e.next=3;break}return y({title:"Whoops!",message:"Please enter your username to reset your password."}),e.abrupt("return");case 3:return e.prev=3,e.next=6,at.auth().sendPasswordResetEmail(H());case 6:j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),y({title:"Error Resetting Password",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"background",style:{display:"flex",flexDirection:"row",width:"100vw",height:"100vh",justifyContent:"space-around",alignItems:"center"}},r.a.createElement("img",{src:bt,alt:"indays logo",style:{height:"30vh",backgroundColor:"rgba(255, 255, 255, 0.53)",borderRadius:"15vh"}}),O&&r.a.createElement(rt.a,{style:{position:"absolute",top:"3vh",right:"40vw"},variant:"danger",onClose:function(){return y(!1)},dismissible:!0},r.a.createElement(rt.a.Heading,null,O.title),r.a.createElement("p",null,O.message),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ne,{onClick:function(){return y(!1)},variant:"outline-success"},"Okay"))),w&&r.a.createElement(rt.a,{style:{position:"absolute",top:"3vh",right:"40vw"},variant:"success",onClose:function(){return j(!1)},dismissible:!0},r.a.createElement(rt.a.Heading,null,"Password Reset Link Sent!"),r.a.createElement("p",null,"Intructions to reset your password have been sent to:"," ",H()),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ne,{onClick:function(){return j(!1)},variant:"outline-success"},"Okay"))),r.a.createElement(Q,null,r.a.createElement("div",{style:{textAlign:"left",display:"flex",justifyContent:"space-between",flexDirection:"column",width:"30vw"}},r.a.createElement(Z,null," Login"),r.a.createElement(ee,null,"Clock-in with your username",r.a.createElement("br",null),"Log-in with your username and password"),r.a.createElement(Ze.a,{onSubmit:W},r.a.createElement(it,{containerStyle:{width:"60%"},onChange:function(e){return l(e)}}),r.a.createElement(Ze.a.Group,null,r.a.createElement(Ze.a.Label,null,"Password"),r.a.createElement(Ze.a.Control,{type:"password",placeholder:"Password...",onChange:function(e){var t=e.target.value;return u(t)},autoComplete:"password",style:{width:"60%"}}),r.a.createElement("u",{onClick:K},"Forgot Password?")),r.a.createElement(ne,{disabled:v||O,type:"submit"},"Login")),r.a.createElement(ne,{disabled:v||O,onClick:function(){return R("in")}},"Clock In"),r.a.createElement(ne,{disabled:v||O,onClick:function(){return R("out")}},"Clock Out"))))}b.a.locale("en");n(525);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=n(34),ht=new E.a({uri:"https://bookworms-api.herokuapp.com/graphql"});l.a.render(r.a.createElement(pt.a,{client:ht},r.a.createElement(dt.a,null,r.a.createElement((function(){return r.a.createElement(Re,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:vt}),ct.map((function(e){return r.a.createElement(gt,{exact:!0,path:"".concat(e.path),component:e.component})})),r.a.createElement(c.b,{path:"*",component:vt})))}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[271,1,2]]]);
//# sourceMappingURL=main.48c896e6.chunk.js.map